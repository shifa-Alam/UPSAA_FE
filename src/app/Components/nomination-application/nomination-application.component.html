<header class="election-header">
    UPSAA ржирж┐рж░рзНржмрж╛ржЪржи тАУ рзирзжрзирзм
</header>

<div class="main-layout">

    <!-- Left Sidebar -->
    <div class="sidebar-left">

        <div class="member-info">
            <strong>ржЖржкржирж╛рж░ рждржерзНржп:</strong><br>
            ржирж╛ржо: {{ member?.fullName }}<br>
            ржмрзНржпрж╛ржЪ: {{ member?.batch }} |
            ржнрзЛржЯрж╛рж░: {{ member?.memberCode }}
        </div>

        <div class="instruction-section">
            <h3>ржирж┐рж░рзНржмрж╛ржЪржирзА ржирж┐рж░рзНржжрзЗрж╢ржирж╛</h3>

            <div class="info-card">
                рзз. ржоржирзЛржирзЯржи ржкрждрзНрж░рзЗрж░ рж╕ржХрж▓ рждржерзНржп ржирж┐рж░рзНржнрзБрж▓ржнрж╛ржмрзЗ ржкрзВрж░ржг ржХрж░рждрзЗ рж╣ржмрзЗред
            </div>

            <div class="info-card">
                рзи. ржбрзЗржЯрж╛ржмрзЗржЬ рждржерзНржпрзЗрж░ рж╕рж╛ржерзЗ ржорж┐рж▓ ржерж╛ржХрж╛ ржмрж╛ржзрзНржпрждрж╛ржорзВрж▓ржХред
            </div>

            <div class="info-card">
                рзй. ржнрзБрж▓ рждржерзНржп ржкрзНрж░ржжрж╛ржи ржХрж░рж▓рзЗ ржЖржмрзЗржжржи ржмрж╛рждрж┐рж▓ рж╣рждрзЗ ржкрж╛рж░рзЗред
            </div>

            <div class="commissioner-sign">
                - ржкрзНрж░ржзрж╛ржи ржирж┐рж░рзНржмрж╛ржЪржи ржХржорж┐рж╢ржирж╛рж░, UPSAA
            </div>
        </div>

    </div>

    <!-- Right Form -->
    <div class="main-content">

        <div class="form-container">

            <h2>ржоржирзЛржирзЯржи ржкрждрзНрж░ ржжрж╛ржЦрж┐рж▓</h2>
            <div *ngIf="candidate?.positionId" class="bkash-info"
                style="background: #e3f2fd; padding: 15px; border-radius: 10px; border: 2px solid #64b5f6;  margin: 15px 0; font-size: 14px;">
                <strong style="color: #1565c0; font-size: 16px;">ржмрж┐ржХрж╛рж╢рзЗ ржЯрж╛ржХрж╛ ржкрж╛ржарж╛ржирзЛрж░ ржирж┐рж░рзНржжрзЗрж╢ржирж╛ :</strong>
                <p style="margin: 8px 0;">
                    ржЕржирзБржЧрзНрж░рж╣ ржХрж░рзЗ <strong>{{ selectedPositionName }}</strong> ржкржжрзЗрж░ ржЬржирзНржп
                    <strong>рз│ {{ selectedPositionFee }}</strong> ржкрж╛ржарж╛ржиред
                </p>
                <p style="margin: 8px 0;">
                    <strong>ржмрж┐ржХрж╛рж╢ ржиржорзНржмрж░:</strong> 01928623875
                </p>
                <p style="margin: 8px 0; color: #0d47a1;">
                    <strong>рж░рзЗржлрж╛рж░рзЗржирзНрж╕ (Reference):</strong> ржЖржкржирж╛рж░ рж╕ржжрж╕рзНржп ржЖржЗржбрж┐ - <strong>{{ member?.memberCode }}</strong>
                </p>
                <p style="margin-top: 10px; font-size: 13px; color: #424242;">
                    тЬЕ рж╕рзЗржирзНржб ржорж╛ржирж┐ ржХрж░рж╛рж░ рж╕ржорзЯ ржЕржмрж╢рзНржпржЗ рж░рзЗржлрж╛рж░рзЗржирзНрж╕ рж╣рж┐рж╕рзЗржмрзЗ ржЖржкржирж╛рж░ рж╕ржжрж╕рзНржп ржЖржЗржбрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи,
                    ржпрж╛рждрзЗ ржЖржкржирж╛рж░ ржЖржмрзЗржжржи рж╕ржарж┐ржХржнрж╛ржмрзЗ ржпрж╛ржЪрж╛ржЗ ржХрж░рж╛ ржпрж╛рзЯред
                </p>
            </div>

            <form (ngSubmit)="submitNomination()" #nominationForm="ngForm">

                <!-- Position -->
                <div class="form-group">
                    <label>ржкржжрзЗрж░ ржирж╛ржо ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи <span class="required">*</span></label>
                    <select [(ngModel)]="candidate.positionId" name="positionId"
                        (change)="onPositionChange(candidate.positionId)" required #positionSelect="ngModel">
                        <option value="">-- ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи --</option>
                        <option *ngFor="let p of positions" [value]="p.id">
                            {{ p.name }} (рз│ {{ p.fee }})
                        </option>
                    </select>
                    <div class="error" *ngIf="positionSelect.invalid && positionSelect.touched">
                        ржкржжрзЗрж░ ржирж╛ржо ржЕржмрж╢рзНржпржЗ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рждрзЗ рж╣ржмрзЗ
                    </div>
                </div>

                <!-- Supporters -->
                <div class="form-group">
                    <label>рж╕ржорж░рзНржержХржЧржгрзЗрж░ рждржерзНржп <span class="required">*</span></label>

                    <div *ngFor="let s of supporters; let i = index" class="support-inputs">
                        <!-- UPSAA Id Field -->
                        <div class="support-field">
                            <input type="text" placeholder="UPSAA Id" [(ngModel)]="s.memberId" name="supporterId{{i}}"
                                #memberIdInput="ngModel" required (input)="updateApplicationReason()">
                            <div class="error" *ngIf="memberIdInput.invalid && memberIdInput.touched">
                                UPSAA Id ржЕржмрж╢рзНржпржЗ ржжрж┐рждрзЗ рж╣ржмрзЗ
                            </div>
                        </div>

                        <!-- Phone No Field -->
                        <div class="support-field">
                            <input type="text" placeholder="Phone No" [(ngModel)]="s.phone" name="supporterPhone{{i}}"
                                #phoneInput="ngModel" required (input)="updateApplicationReason()">
                            <div class="error" *ngIf="phoneInput.invalid && phoneInput.touched">
                                ржлрзЛржи ржиржорзНржмрж░ ржЕржмрж╢рзНржпржЗ ржжрж┐рждрзЗ рж╣ржмрзЗ
                            </div>
                        </div>
                    </div>

                </div>

                <button class="submit-btn" type="submit" [disabled]="nominationForm.invalid">
                    ржоржирзЛржирзЯржи ржкрждрзНрж░ рж╕рж╛ржмржорж┐ржЯ ржХрж░рзБржи
                </button>

            </form>

        </div>


    </div>
</div>

<!-- Success Popup -->
<div class="overlay" *ngIf="showPopup"></div>

<div class="popup-container" *ngIf="showPopup">
    <div class="greeting-card" id="greetingCard">

        <div class="emoji">ЁЯОЙтЬи</div>

        <h2>ржЕржнрж┐ржиржирзНржжржи {{ member?.fullName }}!</h2>

        <p class="post-line">
            {{selectedPositionName}} ржкржжрзЗ ржЖржкржирж╛рж░ ржоржирзЛржирзЯржи ржкрждрзНрж░ рж╕ржлрж▓ржнрж╛ржмрзЗ ржЬржорж╛ рж╣рзЯрзЗржЫрзЗред
        </p>

        <p class="update-line">
            ржирж┐рж░рзНржмрж╛ржЪржи ржХржорж┐рж╢ржирзЗрж░ ржпрж╛ржЪрж╛ржЗ ржмрж╛ржЫрж╛ржЗржпрж╝рзЗрж░ ржкрж░ ржЖржкржирж╛рж░ ржкрзНрж░рж╛рж░рзНржерзАрждрж╛ рж╕ржорзНржкрж░рзНржХрзЗ ржЖржкржбрзЗржЯ ржЬрж╛ржирж╛ржирзЛ рж╣ржмрзЗред
        </p>
        <div
            style="background:#f0f4f7; padding:12px; border-radius:8px; width: 100%; border:1px solid #d1d9e0; box-sizing: border-box;">
            <strong style="font-size:14px; color:#004d40;">ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг рждрж╛рж░рж┐ржЦ:</strong><br>
            <div style="font-size:13px; text-align: left; display: inline-block;">
                тАв рзирзо ржлрзЗржмрзНрж░рзБржпрж╝рж╛рж░рж┐ рзирзжрзирзм: ржкрзНрж░рж╛рж░рзНржерзАрждрж╛ ржЪрзВржбрж╝рж╛ржирзНржд<br>
                тАв рзирзо ржлрзЗржмрзНрж░рзБржпрж╝рж╛рж░рж┐ рзирзжрзирзм: ржмрзНржпрж╛рж▓ржЯ ржиржорзНржмрж░ ржкрзНрж░ржХрж╛рж╢<br>
                тАв рззрзй ржорж╛рж░рзНржЪ рзирзжрзирзм: ржнрзЛржЯ ржЧрзНрж░рж╣ржг ржУ ржлрж▓ ржкрзНрж░ржХрж╛рж╢
            </div>
        </div>
        <p style="font-size:13px; margin-top: 15px;">рж╕рж╛ржерзЗ ржерж╛ржХрж╛рж░ ржЬржирзНржп ржзржирзНржпржмрж╛ржжред<br><strong>- ржкрзНрж░ржзрж╛ржи ржирж┐рж░рзНржмрж╛ржЪржи ржХржорж┐рж╢ржирж╛рж░,
                UPSAA.</strong></p>


    </div>
    <div class="popup-buttons">
        <button class="btn-back" (click)="closePopup()">ржлрж┐рж░рзЗ ржпрж╛ржи</button>
        <button class="btn-download" (click)="downloadJPG()">рж╢рзБржнрзЗржЪрзНржЫрж╛ ржмрж╛рж░рзНрждрж╛ рж╢рзЗржпрж╝рж╛рж░ ржХрж░рзБржи</button>
    </div>
</div>